{% extends "layout.html" %}

{% block css %}
.container > .content{
	background-color: #fff;
	padding: 20px;
	/* negative indent the amount of the padding to maintain the grid system */
	margin: 0 -20px;
	-webkit-border-radius: 0 0 6px 6px;
	-moz-border-radius: 0 0 6px 6px;
	border-radius: 0 0 6px 6px;
	-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	-moz-box-shadow: 0 1px 2px rgba(0,0,0,.15);
	box-shadow: 0 1px 2px rgba(0,0,0,.15);
	overflow: hidden;
}

footer p
{
	text-align: center;
}

.newbody
{
	min-height: 200px
}

.heading
{
	text-align: center;
}

#editingstage
{
	overflow: hidden;
	
}

{% endblock %}

{% block js %}
<script type="text/javascript"
    src="{{ url_for('static', filename='js/sijax/sijax.js') }}">
</script>
<script type="text/javascript">
	    {{ g.sijax.get_js()|safe }}
</script>
<script type="text/javascript">
	$(function(){
		$('#newDataForm').bind('submit', function(){
			Sijax.request('save_editdata', [$('#key').attr('value'),$('#majorcontent').attr('value')]);
			return false;
		});
	});
</script>

<script type="text/javascript" src="{{ url_for('static', filename='js/tiny_mce/tiny_mce.js') }}"></script>
<script type="text/javascript">
	tinyMCE.init({
			content_css: "{{ url_for('static', filename='css/bootstrap.css' )}}",
			theme: "advanced",
			mode: "textareas",
			plugins : "autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,template,advlist",
			theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect",
			theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
			theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
			theme_advanced_buttons4 : "moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,pagebreak",
			theme_advanced_toolbar_location : "top",
			theme_advanced_toolbar_align : "left",
			theme_advanced_statusbar_location : "bottom",
			theme_advanced_resizing : true,
			cleanup: false
		});
</script>
{% endblock %}

{% block body %}
<div class="hero-unit">
	<p class="heading">Rural Housing Knowledge Network</p>
	<hr />
	
	<p>Unique ID: {{ profile_info._id }}</p>
	<div id="editingstage">

		<table class="table table-striped table-condensed">
			<colgroup>
				<col class="span2">
				<col class="span2">

			</colgroup>
			<tbody>
				{% autoescape false %}
				{% for i in profile_info.keys() %}
					<tr>
						<td>{{ i }}</td>
						
						<td>{{ profile_info[i] }}</td>
						
					</tr>	
				{% endfor %}
				{% endautoescape %}
			</tbody>	
		</table>
		
		<a class="btn " href="">Refresh</a>
		<hr />		
		<form id="newDataForm" name="newDataForm">	
			<label>Key:</label>
			<input type="text" id="key" placeholder="Heading here" /><br />
			<label>Value:</label>
			<textarea  id="majorcontent" rows="30" class="span10" placeholder="Your content here"></textarea><br />
			<input class="btn btn-primary" type="submit" />
		</form>
		</div><!-- editingstage ends -->
		
</div>	
{% endblock %}